# aero

import subprocess
import sys
import os

# List of tools to install (available in default repositories)
tools = [
    # Reconnaissance Tools
    "nmap",                # Nmap
    "nikto",               # Nikto

    # Vulnerability Scanners
    "openvas",             # OpenVAS

    # Exploitation Tools
    "metasploit-framework", # Metasploit Framework
    "sqlmap",              # SQLmap

    # Password Cracking Tools
    "john",                # John the Ripper
    "hydra",               # Hydra

    # Web Application Tools
    "zaproxy",             # OWASP ZAP
    "wfuzz",               # Wfuzz

    # Network Sniffing and Spoofing
    "wireshark",           # Wireshark

    # Bonus Tools
    "dirb",                # Dirb
    "gobuster",            # Gobuster
]

def install_tools():
    print("Starting installation of tools...\n")
    
    # Update package list
    print("Updating package list...")
    subprocess.run(["sudo", "apt", "update"], check=True)
    
    # Install each tool
    for tool in tools:
        print(f"Installing {tool}...")
        try:
            subprocess.run(["sudo", "apt", "install", "-y", tool], check=True)
            print(f"{tool} installed successfully!\n")
        except subprocess.CalledProcessError as e:
            print(f"Failed to install {tool}. Error: {e}\n")
    
    print("Tools available in the default repositories have been installed.")
    print("\nAdditional steps for tools not in the default repositories:")

    # Install Recon-ng (via git and pip)
    print("\n1. Installing Recon-ng...")
    try:
        subprocess.run(["sudo", "apt", "install", "-y", "git", "python3-pip"], check=True)
        subprocess.run(["git", "clone", "https://github.com/lanmaster53/recon-ng.git"], check=True)
        os.chdir("recon-ng")
        subprocess.run(["pip3", "install", "-r", "requirements.txt"], check=True)
        print("Recon-ng installed successfully!\n")
    except subprocess.CalledProcessError as e:
        print(f"Failed to install Recon-ng. Error: {e}\n")

    # Install RustScan
    print("\n2. Installing RustScan...")
    try:
        # Install Rust if not present, then install RustScan via cargo
        subprocess.run(["sudo", "apt", "install", "-y", "cargo"], check=True)
        subprocess.run(["cargo", "install", "rustscan"], check=True)
        print("RustScan installed successfully!\n")
    except subprocess.CalledProcessError as e:
        print(f"Failed to install RustScan via cargo. Error: {e}")
        print("   Alternative: Download from https://github.com/RustScan/RustScan/releases\n")

    # Install Responder
    print("\n3. Installing Responder...")
    try:
        subprocess.run(["git", "clone", "https://github.com/lgandx/Responder.git"], check=True)
        print("Responder installed successfully!\n")
        print("   Run with: cd Responder && sudo python3 Responder.py -I <interface>\n")
    except subprocess.CalledProcessError as e:
        print(f"Failed to install Responder. Error: {e}\n")

    # Install BloodHound
    print("\n4. Installing BloodHound...")
    try:
        subprocess.run(["sudo", "apt", "install", "-y", "bloodhound"], check=True)
        print("BloodHound installed successfully!\n")
        print("   Note: You may need to install and configure Neo4j database separately.\n")
    except subprocess.CalledProcessError as e:
        print(f"Failed to install BloodHound via apt. Error: {e}")
        print("   Alternative: Download from https://github.com/BloodHoundAD/BloodHound/releases\n")

    # Install CrackMapExec
    print("\n5. Installing CrackMapExec...")
    try:
        subprocess.run(["sudo", "apt", "install", "-y", "pipx"], check=True)
        subprocess.run(["pipx", "install", "crackmapexec"], check=True)
        print("CrackMapExec installed successfully!\n")
    except subprocess.CalledProcessError as e:
        print(f"Failed to install CrackMapExec. Error: {e}\n")

    # Install WPScan
    print("\n6. Installing WPScan...")
    try:
        subprocess.run(["sudo", "apt", "install", "-y", "wpscan"], check=True)
        print("WPScan installed successfully!\n")
    except subprocess.CalledProcessError as e:
        print(f"Failed to install WPScan. Error: {e}\n")

    # Install Caido (manual download)
    print("\n7. Caido is not in the default repositories.")
    print("   Download it from https://caido.io/download and install manually.")

    # Install Burp Suite (manual download)
    print("\n8. Burp Suite is not in the default repositories.")
    print("   Download it from https://portswigger.net/burp/releases and install manually.")

    # Install Hashcat (manual download for latest version)
    print("\n9. Hashcat is not in the default repositories.")
    print("   Download it from https://hashcat.net/hashcat/ and install manually.")

    # Install Cobalt Strike (manual download)
    print("\n10. Cobalt Strike is a commercial tool.")
    print("   Purchase and download it from https://www.cobaltstrike.com/.")

    # Install Empire (via git)
    print("\n11. Installing Empire...")
    try:
        subprocess.run(["git", "clone", "https://github.com/BC-SECURITY/Empire.git"], check=True)
        os.chdir("Empire")
        subprocess.run(["sudo", "./setup/install.sh"], check=True)
        print("Empire installed successfully!\n")
    except subprocess.CalledProcessError as e:
        print(f"Failed to install Empire. Error: {e}\n")

    # Install Shodan (via pip)
    print("\n12. Installing Shodan...")
    try:
        subprocess.run(["pip3", "install", "shodan"], check=True)
        print("Shodan installed successfully!\n")
    except subprocess.CalledProcessError as e:
        print(f"Failed to install Shodan. Error: {e}\n")

    print("\nAll tools installed or instructions provided!")

if __name__ == "__main__":
    # Check if the script is running with sudo privileges
    if not 'SUDO_UID' in os.environ.keys():
        print("Please run this script with sudo.")
        sys.exit(1)
    
    install_tools()